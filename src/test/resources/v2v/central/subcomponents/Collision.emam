package v2v.central.subcomponents;
import v2v.central.subcomponents.Controller;

component Collision {

	ports
		in Q^{2} car1Position,
		in Q^{2} car1Direction,
		in Q(-8.89 m/s : 8.89 m/s) car1Velocity,
		in Q^{3} car1SensorRight,
		in Q^{3} car1SensorLeft,
		in Q car1MinDistanceToIntersection,
		in Q^{2} car2Position,
		in Q^{2} car2Direction,
		in Q(-8.89 m/s : 8.89 m/s) car2Velocity,
		in Q^{3} car2SensorRight,
		in Q^{3} car2SensorLeft,
		in Q car2MinDistancetoIntersection,

        out Q(-8.89 m/s : 8.89 m/s) controllerVelocityOfCar1,
        out Q(-8.89 m/s : 8.89 m/s) controllerVelocityOfCar2,

		out Q(0 m/s : 0 m/s) velocityOfCar1,
		out Q steeringOfCar1,
		out Q(0 m/s : 0 m/s) velocityOfCar2,
		out Q steeringOfCar2;

	instance Controller controller1;
	instance Controller controller2;

	connect controllerVelocityOfCar1 -> controller1.velocity;
	connect controller1.minDistance -> car1MinDistanceToIntersection;

	connect controllerVelocityOfCar2 -> controller2.velocity;
	connect controller2.minDistance -> car2MinDistanceToIntersection;
}
